{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Loader/Loading.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Services/imgApiService.js","components/Error/Error.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGalleryView/OpenModal.js","components/ImageGalleryView/ImageGalleryView.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","state","name","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","Loading","s","loadingWrap","loading","color","height","width","timeout","FetchImages","page","BASE_URL","KEY","axios","get","catch","err","console","log","Error","style","ImageGalleryItem","hit","largeImageURL","webformatURL","id","tags","href","onClick","e","imageId","imgItem__image","src","alt","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropOnClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","imgOpen","arr","soughtIndex","findIndex","item","Number","parseInt","imgId","ImageGalleryView","showModal","openModal","imgObj","toggleModal","length","gallery","map","imgItem","modalImg","Button","loadMore","btnWrap","button","ImageGallery","data","status","prevState","prevProps","prevName","nextName","prevPage","nextPage","then","response","hits","scrollTo","top","behavior","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f1b0eebf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__CvpWr\",\"modalImg\":\"ImageGallery_modalImg__1KQKV\",\"imgItem\":\"ImageGallery_imgItem__vmWq2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__3siSa\",\"loadingWrap\":\"Loading_loadingWrap__11wCU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3-nCj\",\"modal\":\"Modal_modal__3bRYJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrap\":\"Button_btnWrap__2VSFY\",\"button\":\"Button_button__2chQ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgItem__image\":\"ImageGalleryItem_imgItem__image__1mjEU\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    name: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ name: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.name.trim() === '') {\r\n      return toast.error('enter something');\r\n    }\r\n    this.props.onSubmit(this.state.name);\r\n    this.setState({ name: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <ImSearch />\r\n            <span className=\"SearchForm-button-label\"></span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleNameChange}\r\n            value={this.state.name}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './Loading.module.css';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <>\r\n      {' '}\r\n      <div className={s.loadingWrap}>\r\n        <Loader\r\n          className={s.loading}\r\n          type=\"Puff\"\r\n          color=\"#4169E1\"\r\n          height={200}\r\n          width={200}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import axios from 'axios';\r\nexport default function FetchImages(name, page = 1) {\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n  const KEY = '24365362-b874a4d3192f8b0f7cae992e9';\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .catch(err => console.log(err));\r\n}\r\n","import React from 'react';\r\n\r\nconst Error = () => {\r\n  return <h1 style={{ color: 'red' }}>Something went wrong</h1>;\r\n};\r\n\r\nexport default Error;\r\n","import React, { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    const { largeImageURL, webformatURL, id, tags } = this.props.hit;\r\n    return (\r\n      <a\r\n        href={largeImageURL}\r\n        id={id}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          return this.props.imageId(e.currentTarget.id);\r\n        }}\r\n      >\r\n        <img className={s.imgItem__image} src={webformatURL} alt={tags} />\r\n      </a>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropOnClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropOnClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","export function imgOpen(id, arr) {\r\n  const soughtIndex = arr.findIndex(item => item.id === Number.parseInt(id));\r\n  const largeImageURL = arr[soughtIndex].largeImageURL;\r\n  const imgId = arr[soughtIndex].id;\r\n  return { largeImageURL, imgId };\r\n}\r\n","import React, { Component } from 'react';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport { imgOpen } from './OpenModal';\r\n\r\nclass ImageGalleryView extends Component {\r\n  state = {\r\n    showModal: false,\r\n    largeImageURL: '',\r\n    imgId: null,\r\n  };\r\n\r\n  openModal = imageId => {\r\n    const { largeImageURL, imgId } = imgOpen(imageId, this.props.imgObj);\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeImageURL,\r\n      imgId,\r\n    }));\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { imgObj } = this.props;\r\n    const { toggleModal } = this;\r\n    const { showModal, largeImageURL } = this.state;\r\n    return (\r\n      <>\r\n        {imgObj.length === 0 && <h1>no images was found</h1>}\r\n        <ul className={s.gallery}>\r\n          {imgObj.length > 0 &&\r\n            imgObj.map(hit => {\r\n              return (\r\n                <li className={s.imgItem} key={hit.id}>\r\n                  <ImageGalleryItem hit={hit} imageId={this.openModal} />\r\n                </li>\r\n              );\r\n            })}\r\n        </ul>\r\n\r\n        {showModal && (\r\n          <Modal onClose={toggleModal}>\r\n            <img className={s.modalImg} src={largeImageURL} alt=\"=)\" />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryView;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <div className={s.btnWrap}>\r\n      <button className={s.button} onClick={() => loadMore()} type=\"button\">\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport Loading from '../Loader/Loader';\r\nimport FetchImages from '../Services/imgApiService';\r\nimport Error from '../Error/Error';\r\nimport ImageGalleryView from '../ImageGalleryView/ImageGalleryView';\r\nimport Button from '../Button/Button';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    data: null,\r\n    status: 'idle',\r\n    page: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.name;\r\n    const nextName = this.props.name;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    if (prevName !== nextName) {\r\n      this.setState({ status: 'pending' });\r\n      FetchImages(nextName)\r\n        .then(response =>\r\n          this.setState({\r\n            data: response.data.hits,\r\n            status: 'resolved',\r\n          }),\r\n        )\r\n        .catch(error => this.setState({ error, status: 'rejected' }));\r\n    } else if (nextPage !== prevPage) {\r\n      FetchImages(nextName, nextPage).then(response =>\r\n        this.setState(prevState => ({\r\n          data: [...prevState.data, ...response.data.hits],\r\n        })),\r\n      );\r\n    }\r\n    window.scrollTo({\r\n      top: 10000,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  loadMore = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { data, status } = this.state;\r\n    const { loadMore } = this;\r\n\r\n    if (status === 'idle') {\r\n      return <h1>Let's find some images</h1>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return <Loading />;\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <Error />;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ImageGalleryView imgObj={data} />\r\n          {data.length !== 0 && <Button loadMore={loadMore} />}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    name: '',\n  };\n\n  handleFormSubmit = name => {\n    this.setState({ name: name });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />{' '}\n        <ToastContainer autoClose={2000} />\n        <ImageGallery name={this.state.name} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}