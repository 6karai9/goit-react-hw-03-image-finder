(this["webpackJsonpimage-finder"]=this["webpackJsonpimage-finder"]||[]).push([[0],{12:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__CvpWr",modalImg:"ImageGallery_modalImg__1KQKV",imgItem:"ImageGallery_imgItem__vmWq2"}},14:function(e,t,n){e.exports={loading:"Loading_loading__3siSa",loadingWrap:"Loading_loadingWrap__11wCU"}},15:function(e,t,n){e.exports={overlay:"Modal_overlay__3-nCj",modal:"Modal_modal__3bRYJ"}},16:function(e,t,n){e.exports={btnWrap:"Button_btnWrap__2VSFY",button:"Button_button__2chQ9"}},28:function(e,t,n){e.exports={imgItem__image:"ImageGalleryItem_imgItem__image__1mjEU"}},34:function(e,t,n){},37:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(34),n(35),n(36),n(4)),s=n(5),l=n(7),u=n(6),d=(n(37),n(11)),m=n(29),h=n(1),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleNameChange=function(t){e.setState({name:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.name.trim())return d.b.error("enter something");e.props.onSubmit(e.state.name),e.setState({name:""})},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{onSubmit:this.handleSubmit,className:"SearchForm",children:[Object(h.jsxs)("button",{type:"submit",className:"SearchForm-button",children:[Object(h.jsx)(m.a,{}),Object(h.jsx)("span",{className:"SearchForm-button-label"})]}),Object(h.jsx)("input",{onChange:this.handleNameChange,value:this.state.name,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(a.Component),g=j,b=n(17),p=n(26),f=n.n(p),O=n(14),v=n.n(O),y=function(){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)("div",{className:v.a.loadingWrap,children:Object(h.jsx)(f.a,{className:v.a.loading,type:"Puff",color:"#4169E1",height:200,width:200,timeout:3e3})})]})},x=n(27),_=n.n(x);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="https://pixabay.com/api/",a="24365362-b874a4d3192f8b0f7cae992e9";return _.a.get("".concat(n,"?q=").concat(e,"&page=").concat(t,"&key=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12")).catch((function(e){return console.log(e)}))}var I=function(){return Object(h.jsx)("h1",{style:{color:"red"},children:"Something went wrong"})},S=n(12),C=n.n(S),k=n(28),M=n.n(k),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.hit,n=t.largeImageURL,a=t.webformatURL,r=t.id,o=t.tags;return Object(h.jsx)("a",{href:n,id:r,onClick:function(t){return t.preventDefault(),e.props.imageId(t.currentTarget.id)},children:Object(h.jsx)("img",{className:M.a.imgItem__image,src:a,alt:o})})}}]),n}(a.Component),L=N,F=n(15),U=n.n(F),R=document.querySelector("#modal-root"),W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropOnClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(h.jsx)("div",{className:U.a.overlay,onClick:this.handleBackdropOnClick,children:Object(h.jsx)("div",{className:U.a.modal,children:this.props.children})}),R)}}]),n}(a.Component),D=W;function E(e,t){var n=t.findIndex((function(t){return t.id===Number.parseInt(e)}));return{largeImageURL:t[n].largeImageURL,imgId:t[n].id}}var A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,largeImageURL:"",imgId:null},e.openModal=function(t){var n=E(t,e.props.imgObj),a=n.largeImageURL,r=n.imgId;e.setState((function(e){return{showModal:!e.showModal,largeImageURL:a,imgId:r}}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.imgObj,n=this.toggleModal,a=this.state,r=a.showModal,o=a.largeImageURL;return Object(h.jsxs)(h.Fragment,{children:[0===t.length&&Object(h.jsx)("h1",{children:"no images was found"}),Object(h.jsx)("ul",{className:C.a.gallery,children:t.length>0&&t.map((function(t){return Object(h.jsx)("li",{className:C.a.imgItem,children:Object(h.jsx)(L,{hit:t,imageId:e.openModal})},t.id)}))}),r&&Object(h.jsx)(D,{onClose:n,children:Object(h.jsx)("img",{className:C.a.modalImg,src:o,alt:"=)"})})]})}}]),n}(a.Component),B=A,K=n(16),G=n.n(K),T=function(e){var t=e.loadMore;return Object(h.jsx)("div",{className:G.a.btnWrap,children:Object(h.jsx)("button",{className:G.a.button,onClick:function(){return t()},type:"button",children:"Load more"})})},q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:null,status:"idle",page:1},e.loadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,a=e.name,r=this.props.name,o=t.page,c=this.state.page;a!==r?(this.setState({status:"pending"}),w(r).then((function(e){return n.setState({data:e.data.hits,status:"resolved"})})).catch((function(e){return n.setState({error:e,status:"rejected"})}))):c!==o&&w(r,c).then((function(e){return n.setState((function(t){return{data:[].concat(Object(b.a)(t.data),Object(b.a)(e.data.hits))}}))})),window.scrollTo({top:1e4,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.status,a=this.loadMore;return"idle"===n?Object(h.jsx)("h1",{children:"Let's find some images"}):"pending"===n?Object(h.jsx)(y,{}):"rejected"===n?Object(h.jsx)(I,{}):"resolved"===n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{imgObj:t}),0!==t.length&&Object(h.jsx)(T,{loadMore:a})]}):void 0}}]),n}(a.Component),J=q,P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleFormSubmit=function(t){e.setState({name:t})},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{onSubmit:this.handleFormSubmit})," ",Object(h.jsx)(d.a,{autoClose:2e3}),Object(h.jsx)(J,{name:this.state.name})]})}}]),n}(a.Component),Q=P;c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Q,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.f1b0eebf.chunk.js.map